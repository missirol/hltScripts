#!/bin/bash -ex

# CMSSW_14_0_12_MULTIARCHS
# Directory name
dir="run000000"

# Check if the directory does not exist
if [ ! -d "$dir" ]; then
    # Create the directory
    mkdir "$dir"
    echo "Directory $dir created."
else
    echo "Directory $dir already exists."
fi

hltConfigFromDB --adg \
		--configName /cdaq/test/missirol/dev/CMSSW_14_0_0/tmp/240731_cmssw45595/Test01/HLT/V2 \
		--nooutput \
		--input /store/group/tsg/FOG/error_stream_root/run383830/run383830_ls0083_index000274_fu-c2b01-26-01_pid4060196.root,/store/group/tsg/FOG/error_stream_root/run383830/run383830_ls0083_index000300_fu-c2b01-26-01_pid4060196.root,/store/group/tsg/FOG/error_stream_root/run383830/run383830_ls0083_index000316_fu-c2b01-26-01_pid4060272.root,/store/group/tsg/FOG/error_stream_root/run383830/run383830_ls0083_index000321_fu-c2b01-26-01_pid4060196.root,/store/group/tsg/FOG/error_stream_root/run383830/run383830_ls0083_index000323_fu-c2b01-26-01_pid4060226.root,/store/group/tsg/FOG/error_stream_root/run383830/run383830_ls0083_index000327_fu-c2b01-26-01_pid4060252.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0220_index000238_fu-c2b02-24-01_pid1153314.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0220_index000290_fu-c2b02-24-01_pid1153366.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0220_index000291_fu-c2b02-24-01_pid1153397.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0220_index000311_fu-c2b02-24-01_pid1153397.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0220_index000320_fu-c2b02-24-01_pid1153366.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0220_index000321_fu-c2b02-24-01_pid1153344.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0220_index000328_fu-c2b02-24-01_pid1153344.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0220_index000375_fu-c2b02-24-01_pid1153314.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0313_index000060_fu-c2b05-26-01_pid1207764.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0313_index000070_fu-c2b05-26-01_pid1207815.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0313_index000087_fu-c2b05-26-01_pid1207734.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0313_index000097_fu-c2b05-26-01_pid1207764.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0313_index000099_fu-c2b05-26-01_pid1207815.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0313_index000111_fu-c2b05-26-01_pid1207780.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0317_index000252_fu-c2b03-33-01_pid192461.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0317_index000261_fu-c2b03-33-01_pid192408.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0317_index000269_fu-c2b03-33-01_pid192432.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0317_index000270_fu-c2b03-33-01_pid192432.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0317_index000277_fu-c2b03-33-01_pid192408.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0317_index000278_fu-c2b03-33-01_pid192491.root,/store/group/tsg/FOG/error_stream_root/run383812/run383812_ls0317_index000280_fu-c2b03-33-01_pid192491.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0017_index000060_fu-c2b05-28-01_pid181439.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0017_index000079_fu-c2b05-28-01_pid181419.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0017_index000088_fu-c2b05-28-01_pid181439.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0017_index000093_fu-c2b05-28-01_pid181393.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0017_index000105_fu-c2b05-28-01_pid181419.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0017_index000114_fu-c2b05-28-01_pid181439.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0017_index000117_fu-c2b05-28-01_pid181393.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0017_index000135_fu-c2b05-28-01_pid181476.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0043_index000209_fu-c2b03-07-01_pid2040001.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0043_index000218_fu-c2b03-07-01_pid2040043.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0043_index000220_fu-c2b03-07-01_pid2040043.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0043_index000226_fu-c2b03-07-01_pid2039971.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0043_index000227_fu-c2b03-07-01_pid2039971.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0043_index000229_fu-c2b03-07-01_pid2040001.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0043_index000245_fu-c2b03-07-01_pid2039941.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0043_index000248_fu-c2b03-07-01_pid2040043.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0066_index000137_fu-c2b01-20-01_pid1007620.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0066_index000139_fu-c2b01-20-01_pid1007564.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0066_index000149_fu-c2b01-20-01_pid1007547.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0066_index000178_fu-c2b01-20-01_pid1007547.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0066_index000180_fu-c2b01-20-01_pid1007592.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0066_index000188_fu-c2b01-20-01_pid1007620.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0066_index000209_fu-c2b01-20-01_pid1007547.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0066_index000228_fu-c2b01-20-01_pid1007564.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0234_index000204_fu-c2b02-40-01_pid2431545.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0234_index000220_fu-c2b02-40-01_pid2431545.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0234_index000272_fu-c2b02-40-01_pid2431462.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0234_index000273_fu-c2b02-40-01_pid2431518.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0234_index000283_fu-c2b02-40-01_pid2431492.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0234_index000395_fu-c2b02-40-01_pid2431545.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0283_index000059_fu-c2b02-34-01_pid1957920.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0283_index000062_fu-c2b02-34-01_pid1957873.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0283_index000063_fu-c2b02-34-01_pid1957946.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0283_index000071_fu-c2b02-34-01_pid1957901.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0283_index000081_fu-c2b02-34-01_pid1957873.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0283_index000084_fu-c2b02-34-01_pid1957920.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0283_index000093_fu-c2b02-34-01_pid1957946.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0283_index000103_fu-c2b02-34-01_pid1957901.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0318_index000164_fu-c2b01-13-01_pid64295.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0318_index000304_fu-c2b01-13-01_pid64325.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0318_index000317_fu-c2b01-13-01_pid64272.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0318_index000318_fu-c2b01-13-01_pid64272.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0318_index000324_fu-c2b01-13-01_pid64255.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0318_index000325_fu-c2b01-13-01_pid64325.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0318_index000437_fu-c2b01-13-01_pid64295.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0397_index000000_fu-c2b01-14-01_pid3529947.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0397_index000005_fu-c2b01-14-01_pid3529996.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0397_index000022_fu-c2b01-14-01_pid3529947.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0397_index000023_fu-c2b01-14-01_pid3529977.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0397_index000029_fu-c2b01-14-01_pid3529996.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0397_index000084_fu-c2b01-14-01_pid3530023.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0491_index000062_fu-c2b05-24-01_pid1756168.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0491_index000064_fu-c2b05-24-01_pid1756140.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0491_index000084_fu-c2b05-24-01_pid1756219.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0491_index000089_fu-c2b05-24-01_pid1756168.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0491_index000097_fu-c2b05-24-01_pid1756188.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0491_index000099_fu-c2b05-24-01_pid1756188.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0491_index000104_fu-c2b05-24-01_pid1756140.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0543_index000315_fu-c2b03-23-01_pid3177546.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0543_index000323_fu-c2b03-23-01_pid3177469.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0543_index000330_fu-c2b03-23-01_pid3177437.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0543_index000337_fu-c2b03-23-01_pid3177492.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0543_index000345_fu-c2b03-23-01_pid3177437.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0543_index000350_fu-c2b03-23-01_pid3177492.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0543_index000356_fu-c2b03-23-01_pid3177469.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0543_index000393_fu-c2b03-23-01_pid3177546.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0591_index000067_fu-c2b04-18-01_pid1657786.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0591_index000068_fu-c2b04-18-01_pid1657839.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0591_index000070_fu-c2b04-18-01_pid1657816.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0591_index000087_fu-c2b04-18-01_pid1657877.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0591_index000093_fu-c2b04-18-01_pid1657877.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0591_index000126_fu-c2b04-18-01_pid1657786.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0591_index000183_fu-c2b04-18-01_pid1657816.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0591_index000303_fu-c2b04-18-01_pid1657839.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0604_index000037_fu-c2b04-35-01_pid232823.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0604_index000232_fu-c2b04-35-01_pid232767.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0604_index000239_fu-c2b04-35-01_pid232823.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0604_index000255_fu-c2b04-35-01_pid232823.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0604_index000257_fu-c2b04-35-01_pid232796.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0604_index000258_fu-c2b04-35-01_pid232796.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0604_index000351_fu-c2b04-35-01_pid232767.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0605_index000001_fu-c2b04-35-01_pid232843.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0651_index000211_fu-c2b04-22-01_pid2751532.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0651_index000228_fu-c2b04-22-01_pid2751509.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0651_index000231_fu-c2b04-22-01_pid2751560.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0651_index000285_fu-c2b04-22-01_pid2751509.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0651_index000292_fu-c2b04-22-01_pid2751490.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0651_index000297_fu-c2b04-22-01_pid2751532.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0651_index000314_fu-c2b04-22-01_pid2751560.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0651_index000330_fu-c2b04-22-01_pid2751490.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0669_index000269_fu-c2b01-40-01_pid171601.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0669_index000307_fu-c2b01-40-01_pid171651.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0669_index000311_fu-c2b01-40-01_pid171571.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0669_index000331_fu-c2b01-40-01_pid171651.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0669_index000336_fu-c2b01-40-01_pid171620.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0669_index000355_fu-c2b01-40-01_pid171601.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0697_index000249_fu-c2b02-34-01_pid1957973.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0697_index000287_fu-c2b02-34-01_pid1957989.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0697_index000289_fu-c2b02-34-01_pid1958056.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0697_index000309_fu-c2b02-34-01_pid1957989.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0697_index000338_fu-c2b02-34-01_pid1958056.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0697_index000368_fu-c2b02-34-01_pid1957973.root,/store/group/tsg/FOG/error_stream_root/run383814/run383814_ls0698_index000044_fu-c2b02-34-01_pid1958019.root > hlt.py

cat <<@EOF >> hlt.py
try:
    del process.MessageLogger
    process.load('FWCore.MessageLogger.MessageLogger_cfi')
    process.MessageLogger.cerr.enableStatistics = False
except:
    pass

#process.source.skipEvents = cms.untracked.uint32( 74 )
process.options.wantSummary = True
process.options.numberOfThreads = 1
process.options.numberOfStreams = 0
#process.options.accelerators = ['cpu']
#process.options.accelerators = ['gpu-nvidia']
@EOF

cmsRun hlt.py &> hlt.log
